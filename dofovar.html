<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>fovar划分练习_v0.2</title>
    <style type="text/css">
        .body {
            width: 1200px;
            margin: 0 auto 0 auto;
        }
    </style>
</head>
<body>
<div class="body">

    <div id="div2" class="text">
        <p>fovar划分练习</p>
    </div>

    <button id="btn1">对象</button>
    <button id="btn2">从句->对象</button>
    <button id="btn3">非限定->对象</button>
    &nbsp||&nbsp
    <button id="btn4">属性</button>
    <button id="btn5">从句->属性</button>
    <button id="btn6">非限定->属性</button>
    &nbsp||&nbsp
    <button id="btn7">过程</button>
    &nbsp||&nbsp
    <button id="btn8">参数</button>
    <button id="btn9">从句->参数</button>
    <button id="btn10">非限定->参数</button>
    &nbsp||&nbsp
    <button id="btn11">人际</button>
    <button id="btn12">从句->人际</button>
    <button id="btn13">非限定->人际</button>
    &nbsp||&nbsp
    <button id="btn14">连接词</button>



    <div id="div1">
        <p>欢迎使用 <b>fovar</b> 划分编辑器</p>
    </div>

    <a href="https://affiliate.github.io/2.txt">新2文章列表</a>
</div>

<script type="text/javascript" src="https://unpkg.com/wangeditor@3.1.1/release/wangEditor.min.js"></script>



<script type="text/javascript">
    var E = window.wangEditor
    var editor = new E('#div1')
    // 自定义菜单配置
    editor.customConfig.menus = [
        'undo',  // 撤销
        'redo'  // 重复
    ]
    editor.create()
    editor.txt.html('<p>Postcards always spoil my holidays. Last summer, I went to Italy. I visited museums and sat in public gardens. A friendly waiter taught me a few words of  Italian. </p>')

    function addMark(str,mark1,mark2){
        return str.replace(/^(\s*)/,"$1"+mark1).replace(/(\s*)$/,mark2+"$1")
    }


    //对象
    document.getElementById('btn1').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('foreColor','#8baa4a')
    }, false)

    //从句->对象
    document.getElementById('btn2').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        var sel = editor.selection.getSelectionText()
        var newSel = addMark(sel,'[',']')
        editor.cmd.do('insertHTML', newSel)

    }, false)


    //非限定->对象
    document.getElementById('btn3').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        var sel = editor.selection.getSelectionText()
        var newSel = addMark(sel,'&lt;','&gt;')
        editor.cmd.do('insertHTML', newSel)

    }, false)


    //属性
    document.getElementById('btn4').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('italic')
    }, false)

    //从句->属性
    document.getElementById('btn5').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('italic');
        var sel = editor.selection.getSelectionContainerElem()[0].outerHTML;
        var newSel = addMark(sel,'[',']')
        editor.cmd.do('insertHTML', newSel)

    }, false)

    //非限定->属性
    document.getElementById('btn6').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('italic');
        var sel = editor.selection.getSelectionContainerElem()[0].outerHTML;
        var newSel = addMark(sel,'&lt;','&gt;')
        editor.cmd.do('insertHTML', newSel)

    }, false)

    //过程
    document.getElementById('btn7').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('foreColor','#c24f4a')
    }, false)

    //参数
    document.getElementById('btn8').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        var sel = editor.selection.getSelectionText()
        var newSel = addMark(sel,'(',')')
        editor.cmd.do('insertHTML', newSel)

    }, false)

    //从句->参数
    document.getElementById('btn9').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        var sel = editor.selection.getSelectionText()
        var newSel = addMark(sel,'([','])')
        editor.cmd.do('insertHTML', newSel)

    }, false)

    //非限定->参数
    document.getElementById('btn10').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        var sel = editor.selection.getSelectionText()
        var newSel = addMark(sel,'(&lt','&gt)')
        editor.cmd.do('insertHTML', newSel)

    }, false)


    //人际
    document.getElementById('btn11').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('foreColor','#46acc8')
    }, false)


    //从句->人际
    document.getElementById('btn12').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('backColor','#46acc8')
        var sel = editor.selection.getSelectionContainerElem()[0].outerHTML;
        var newSel = addMark(sel,'[',']')
        editor.cmd.do('insertHTML', newSel)
    }, false)

    //非限定->人际
    document.getElementById('btn13').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }
        editor.cmd.do('backColor','#46acc8')
        var sel = editor.selection.getSelectionContainerElem()[0].outerHTML;
        var newSel = addMark(sel,'&lt','&gt')
        editor.cmd.do('insertHTML', newSel)
    }, false)

    //连接词
    document.getElementById('btn14').addEventListener('click', function () {

        if(editor.selection.getSelectionText()== ""){
            return;
        }

        editor.cmd.do('underline')
    }, false)



</script>
</body>
</html>
